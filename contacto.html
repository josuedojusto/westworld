<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Westworld - Contacto</title>
    <!-- Favicon  -->
    <link rel="icon" type="image/png" href="./img/westworld-favicon.png" />
    <!-- Bootstrap -->
    <link rel="stylesheet" href="./css/bootstrap.min.css" />
    <!-- Bootstrap Icons  -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css"
    />
    <!-- Google fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />

    <!-- Estilos Propios  -->
    <link rel="stylesheet" href="css/style.css" />

    <style>
      #header {
        min-height: 60vh;
      }
      .overlay {
        height: 60vh;
      }
      #header-content {
        min-height: 60vh;
      }
      .form-control:focus {
        box-shadow: 0px 0px 8px 1px var(--bs-color1);
      }
      iframe {
        width: 100%;
      }
      .status-ok {
        color: green;
        font-weight: bold;
      }
      .status-error {
        color: red;
        font-weight: bold;
      }
    </style>
  </head>
  <body>
    <header class="text-center container-fluid" id="header">
      <div class="overlay d-lg-flex align-items-start justify-content-center">
        <!-- Navegacion -->
        <nav
          class="navbar sticky-top navbar-expand-lg bg-transparent navbar-dark"
        >
          <div class="container-fluid">
            <a class="navbar-brand" href="#">
              <img
                src="./img/westworld-logo-100.png"
                alt="Logo Westworld"
                width="40"
                height="40"
              />
            </a>
            <button
              id="btn-menu"
              class="navbar-toggler"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#navbarNav"
              aria-controls="navbarNav"
              aria-expanded="false"
              aria-label="Toggle navigation"
            >
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
              <ul class="navbar-nav">
                <li class="nav-item">
                  <a class="nav-link" href="index.html">INICIO</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="index.html#reparto">REPARTO</a>
                </li>
                <li class="nav-item dropdown">
                  <a
                    class="nav-link dropdown-toggle"
                    href="#temporadas"
                    role="button"
                    data-bs-toggle="dropdown"
                    aria-expanded="false"
                    >TEMPORADAS</a
                  >
                  <ul
                    class="dropdown-menu text-left"
                    id="temporadas-submenu"
                  ></ul>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="./galeria.html">GALERIA</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="./contacto.html">CONTACTO</a>
                </li>
              </ul>
            </div>
          </div>
        </nav>
        <div
          id="header-content"
          class="d-flex align-items-center justify-content-center"
        >
          <!-- Informacion Hero Logo -->
          <div class="logo">
            <h1 class="titulo text-wrap">CONTACTO</h1>
            <h3 class="subtitulo text-wrap">¡Dejanos tu mensaje!</h3>
            <a id="btn-menu" class="btn btn-outline-primary" href="#contacto">
              Escribinos
            </a>
          </div>
        </div>
      </div>
    </header>

    <!-- Arranca el Main -->
    <main>
      <!-- Formulario de contacto  -->
      <section class="container py-5" id="contacto">
        <h2 class="titulo text-center mb-4">CONTACTO</h2>
        <p class="titulo text-center mb-4">
          Envianos un mensaje y te responderemos lo antes posible.
        </p>
        <div class="row justify-content-center">
          <div class="col-12 col-md-8 col-lg-6">
            <form
              id="formWestworld"
              class="needs-validation"
              novalidate
              action="https://formspree.io/f/xqayzeda"
              method="POST"
            >
              <div class="mb-3">
                <input
                  type="text"
                  class="form-control"
                  id="nombre"
                  name="nombre"
                  placeholder="Nombre"
                  required
                />
                <div class="invalid-feedback">Por favor ingresá tu nombre.</div>
              </div>
              <div class="mb-3">
                <input
                  type="email"
                  class="form-control"
                  id="email"
                  name="email"
                  placeholder="Email"
                  required
                />
                <div class="invalid-feedback">
                  Ingresá un email válido (ej: nombre@dominio.com).
                </div>
              </div>
              <div class="mb-3">
                <input
                  type="text"
                  class="form-control"
                  id="asunto"
                  name="asunto"
                  placeholder="Asunto"
                  required
                />
                <div class="invalid-feedback">Por favor indicá el asunto.</div>
              </div>
              <div class="mb-3">
                <textarea
                  class="form-control"
                  id="mensaje"
                  name="mensaje"
                  rows="5"
                  placeholder="Mensaje"
                  required
                ></textarea>
                <div class="invalid-feedback">
                  El mensaje no puede estar vacío.
                </div>
              </div>
              <button type="submit" class="btn btn-primary">Enviar</button>
            </form>
            <div id="my-form-status" class="text-center"></div>
          </div>
        </div>
      </section>
      <!-- Mapa Google  -->
      <section class="container py-5" id="contacto">
        <h2 class="titulo text-center mb-4">UBICACIÓN</h2>
        <p class="titulo text-center mb-4">
          ¡Acercate a conocer la experiencia Westworld en UTN Haedo!
        </p>
        <div class="row justify-content-center">
          <div class="col-12 col-md-8 col-lg-6 text-center">
            <iframe
              src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3282.56158985828!2d-58.604789323325974!3d-34.64051767294115!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x95bcb880263d379f%3A0xfa00dafc9277b841!2sPar%C3%ADs%20532%2C%20B1706EAH%20Haedo%2C%20Provincia%20de%20Buenos%20Aires!5e0!3m2!1ses-419!2sar!4v1758069173495!5m2!1ses-419!2sar"
              width="400"
              height="300"
              style="border: 0"
              allowfullscreen=""
              loading="lazy"
              referrerpolicy="no-referrer-when-downgrade"
            ></iframe>
          </div>
        </div>
      </section>
    </main>

    <!-- Footer  -->
    <footer
      class="container-fluid align-items-center justify-content-center text-center d-flex"
      id="footer"
    >
      <div
        class="row container align-items-center justify-content-evenly d-flex"
        style="max-width: 850px"
      >
        <section class="col-12 col-lg-4 footer-temporadas text-center">
          <h5>Temporadas</h5>
          <nav id="footer-menu-temporadas"></nav>
        </section>

        <section class="col-12 col-lg-4 text-center">
          <img
            src="./img/westworld-logo-ancho.png"
            alt="Logo Westworld"
            width="150"
          />
        </section>

        <section class="col-12 col-lg-4 text-center">
          <div class="mb-5">
            <h5>Producido por</h5>
            <a href="https://www.hbomax.com/ar/es" target="_blank"
              ><img src="./img/hbo-logo.png" alt="Logo HBO" width="80"
            /></a>
          </div>
          <h5>Seguinos</h5>
          <a href="https://www.instagram.com/" target="_blank"
            ><i class="bi bi-instagram"></i
          ></a>
          <a href="https://www.facebook.com/" target="_blank"
            ><i class="bi bi-facebook"></i
          ></a>
          <a href="https://x.com/" target="_blank"
            ><i class="bi bi-twitter-x"></i
          ></a>
          <a href="https://www.youtube.com/" target="_blank"
            ><i class="bi bi-youtube"></i
          ></a>
        </section>
      </div>
    </footer>
    <footer class="text-center container-fluid" id="copyright">
      <p>Copyright &copy; 2025 Westworld Fan Page</p>
    </footer>
    <!-- Fin del Footer  -->

    <!-- Boton de WhatsApp  -->
    <a
      href="https://wa.me/+541154109659"
      class="whatsapp-button"
      target="_blank"
      aria-label="WhatsApp"
    >
      <i class="bi bi-whatsapp"></i>
    </a>
    <script src="./js/bootstrap.bundle.min.js"></script>
    <script>
      (() => {
        "use strict";

        // Validaciones de formulario y manejo del envío
        const form = document.querySelector("#formWestworld");
        if (!form) return;

        // Lógica de validación
        const emailInput = form.querySelector("#email");
        const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;

        // La función que maneja el envío
        async function handleSubmit(event) {
          event.preventDefault();
          const status = document.getElementById("my-form-status");
          const data = new FormData(event.target);

          // Fetch
          fetch(event.target.action, {
            method: form.method,
            body: data,
            headers: {
              Accept: "application/json",
            },
          })
            .then((response) => {
              if (response.ok) {
                status.innerHTML =
                  "<p class='status-ok'>¡Gracias por tu mensaje! Nos pondremos en contacto a la brevedad.</p>";
                form.reset();
                form.style.display = "none";
              } else {
                response.json().then((data) => {
                  if (Object.hasOwn(data, "errors")) {
                    status.innerHTML = data["errors"]
                      .map((error) => error["message"])
                      .join(", ");
                  } else {
                    status.innerHTML =
                      "<p class='status-error'>¡Ups! Hubo un error, por favor intentalo mas tarde.</p>";
                  }
                });
              }
            })
            .catch((error) => {
              status.innerHTML =
                "<p class='status-error'>¡Ups! Hubo un error, por favor intentalo mas tarde.</p>";
            });
        }

        form.addEventListener("submit", (event) => {
          // Lógica de validación de email personalizada
          if (emailInput.value && !emailRegex.test(emailInput.value)) {
            emailInput.setCustomValidity(
              "Por favor, ingresá una dirección de email con formato válido (ej: nombre@dominio.com)."
            );
          } else {
            emailInput.setCustomValidity("");
          }

          // Se verifica la validez del formulario
          if (form.checkValidity()) {
            // Si el formulario es válido, se llama a la función asíncrona
            handleSubmit(event);
          } else {
            // Si no es válido, se evita el envío y se detiene la propagación
            event.preventDefault();
            event.stopPropagation();
          }

          form.classList.add("was-validated");
        });
      })();
    </script>
    <script src="./js/script.js" type="module"></script>
  </body>
</html>
